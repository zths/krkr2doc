<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from Letter.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>显示文字</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里関連リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="主页" />
</head>
<body>
<h1><a id="id92" name="id92">选择什么样的风格</a>
</h1><div class="para"><div>
　大致上这个世界上基于文字的冒险游戏，分为显示消息框并在其中显示文字的类型和在整个屏幕上显示文字的类型（视觉小说类型），虽然只是文字显示位置不同，看起来差别不大，但 KAG 可以支持这两种方式。<br />
<br /><div class="descimg"><img width="325" height="265" alt="UsingVN.jpg" src="UsingVN.jpg" /><img width="325" height="265" alt="UsingFrame.jpg" src="UsingFrame.jpg" /><br />两种方式</div><br />　也可以竖写。<br />
<br /><div class="descimg"><img width="325" height="265" alt="Vertical.jpg" src="Vertical.jpg" /><br />竖写显示</div><br />　默认情况下会进行横写的所谓视觉小说类型的显示。详细信息请参考 Config.tjs。本教程将以这种默认的视觉小说类型显示为前提进行说明。<br />
</div></div>
<h1><a id="id93" name="id93">总之先显示点什么</a>
</h1><div class="para"><div>
　那么，试着显示点什么吧。scenario 文件夹中应该有一个名为 <a id="id94" name="id94" class="targanchor"><dfn>first.ks</dfn></a> 的文件。这个文件是最先被读取的情节文件。<br />
　在标准状态下，写入了以下内容。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
こんにちは。<br />
</code>
<br />

　可能会因为一下子写了很多复杂的东西而感到困扰，但请只注意写着"こんにちは。"的行。请用编辑器在这个"こんにちは。"的地方写入一些你想显示的文字。比如，写成"こんばんわ。"也可以。<br />
　然后，启动吉里吉里，当[文件夹/档案选择]对话框打开时，指定你创建的项目文件夹并按 [OK] 按钮。<em>指定的是项目文件夹。不是 first.ks。</em><br />
<br />
<br /><div class="descimg"><img width="650" height="528" alt="kon-banwa.png" src="kon-banwa.png" /><br />「こんばんわ。」</div><br />　这样，在黑色的屏幕上显示了"こんばんわ。"。指定背景的方法稍后说明<span class="comlink"> ( → <a target="main" class="jump" href="DispBase.html">显示背景</a> ) </span>。<br />
　总之，用这种方式在"こんにちは。"的地方写入想要显示的文字，就可以这样显示出来。<br />
</div></div>
<h1><a id="id95" name="id95">试试使用点击等待和换行</a>
</h1><div class="para"><div>
　这次，在行末进行点击等待。要进行点击等待，需要在想要等待点击的部分写入 [<a id="id96" name="id96" class="targanchor"><dfn>l</dfn></a>]。（[l] 是半角的；l 是小写的 L）<br />
　另外，为了进行换行，在后面写 [<a id="id97" name="id97" class="targanchor"><dfn>r</dfn></a>]。<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
こんにちは。[l][r]<br />
ごきげんよろしゅう。[l][r]<br />
</code>
<br />

　请先退出吉里吉里，然后再启动，尝试运行项目文件夹。<br />
<br />
<br /><div class="descimg"><img width="650" height="528" alt="gokigen.png" src="gokigen.png" /><br />点击等待</div><br /><br />
　在"こんにちは。"之后进行点击等待，点击后应该会换行显示"ごきげんよろしゅう。"。<br />
</div></div>
<h1><a id="id98" name="id98">试试使用翻页等待</a>
</h1><div class="para"><div>
　想要清除所有文字，从左上角重新开始显示文字时，在新行中写入 [<a id="id99" name="id99" class="targanchor"><dfn>cm</dfn></a>]。（[cm] 是半角的）<br />
　但是如果不在这之前进行点击等待，屏幕会自动清除。通常在 [cm] 前面写 [<a id="id100" name="id100" class="targanchor"><dfn>p</dfn></a>]。请看以下例子。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|スタート<br />
[cm]<br />
こんにちは。[l][r]<br />
ごきげんよろしゅう。[l][r]<br />
改ページしますよ。[p]<br />
[cm]<br />
改ページしました。<br />
</code>
<br />

　现在，试着运行这个。在 [p] 的位置会出现表示翻页的符号并进行点击等待，点击后所有文字都会被清除，然后从左上角重新显示"改ページしました。"。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　清除消息的标签有 er、ct、cm 三个。每个的动作略有不同，在存档和读档说明的部分<span class="comlink"> ( → <a target="main" class="jump" href="SaveLoad.html">支持存档和读档</a> ) </span>进行说明。如果不做特别的事情，可能统一使用 cm 就可以了。<br />
</div><br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　在 KAG 3 以下版本的教程中，这里使用的是 ct。cm 与 ct 一样，会清除所有消息层，但不像 ct 那样将操作目标的消息层返回到前台的 message0。比 ct 更好用。<br />
　但是，必须注意的是，在后面提到的可存档标签的直后，必须写 cm 或 ct 标签。</div><br />
<br />
　在 KAG 中，所有文字都绘制在称为"<a id="id101" name="id101" class="targanchor"><dfn>消息层</dfn></a>"的层上。KAG 标准状态下还有另一个消息层，使用两个层可以表现两人对话的场景。请参考 <a id="id102" name="id102" class="targanchor"><dfn>current</dfn></a> 标签等。<br />
</div></div>
<h1><a id="id103" name="id103">标签是什么</a>
</h1><div class="para"><div>
　那么，到目前为止用方括号 [ ] 包围的半角字符是什么呢，<br />
　用 [ ] 包围的东西叫做<em>标签</em>，是用来控制 KAG 的各种功能的。<br />
　比如，在第一行有 <code class="inlinecode">[wait time=200]</code> 这个部分，这是一个名为 <code class="inlinecode">wait</code> 的<em><a id="id104" name="id104" class="targanchor"><dfn>标签名</dfn></a></em>，带有 <code class="inlinecode">time=200</code> 这个<em><a id="id105" name="id105" class="targanchor"><dfn>属性</dfn></a></em>的"标签"。属性中，<code class="inlinecode">time</code> 叫做<em>属性名</em>，<code class="inlinecode">200</code> 叫做<em>属性的值</em>。<br />
　像这样，首先在 [ 后面写"标签名"，空一个空格后写"属性名=属性的值"。"属性名=属性的值"可能会有多个连续的。最后以 ] 结束标签。<br />
　以后会出现各种各样的标签，最初即使是照葫芦画瓢地写，相信很快就能掌握诀窍。<br />
　标签非常重要。对 KAG 除了文字显示以外的所有指示都通过这个标签进行。有各种各样的标签，请参考<a target="main" class="jump" href="Tags.html">标签参考文档</a>。<br />
<br />
　可以使用<a id="id106" name="id106" class="targanchor"><dfn>宏</dfn></a><span class="comlink"> ( → <a target="main" class="jump" href="Macro.html">使用宏</a> ) </span>，通过组合现有标签来定义新标签。使用这个功能可以把常用的标签组合成一个标签，很方便。根据游戏系统，预先用宏定义一套标签会很方便。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　在 KAG 3 以下版本中，除非在行末写 \（圆记号），否则在行末会自动换行。在 KAG 3 以后的版本中，除非写 [r] 否则不会换行。如果想要与 KAG 3 以下版本的换行处理相同，请在 Config.tjs 中将 global.ignoreCR 指定为 false。<br />
</div><br />
<br />
</div></div>
<h1><a id="id107" name="id107">命令行</a>
</h1><div class="para"><div>
　在开头写 @（半角@）的行被识别为"命令行"。<br />
　在 @ 后面写标签的 [ 和 ] 包围的部分，也就是标签名以及之后的（如果有的话）属性。一行只能写一个命令。<br />
　只是写法不同，实质上与标签的动作相同。<br />
<br />
　比如，下面两行意思相同。<br />
<br />

<br />
<code class="bq">[wc&nbsp;time=20]<br />
@wc&nbsp;time=20<br />
</code>
<br />

<br />
　另外，"试试使用翻页等待"的例子可以改写如下。<br />
<br />

<br />
<code class="bq">@wait&nbsp;time=200<br />
*start|スタート<br />
@cm<br />
こんにちは。[l][r]<br />
ごきげんよろしゅう。[l][r]<br />
改ページしますよ。[p]<br />
@cm<br />
改ページしました。<br />
</code>
<br />

</div></div>
<h1><a id="id108" name="id108">情节中的特殊符号·特殊行</a>
</h1><div class="para"><div>
　情节是普通的文本文件，可以自由地写任何内容，但以下符号用于特殊用途，使用时需要注意。<br />
<br />
<dl>
<dt>　　<a id="id109" name="id109" class="targanchor"><dfn>[</dfn></a>　　（半角开方括号）</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　表示标签开始的符号(^^;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;　如果一定要使用半角方括号的开头，而不是作为标签的开始，请写成 <code class="inlinecode"><em>[[</em></code>，连续写两个（方括号的结束符号正常写就可以）。</dd>
<dt>　　<a id="id110" name="id110" class="targanchor"><dfn>;</dfn></a>　　（半角分号）</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>在行首写这个分号的行</em>，无论写什么都会被忽略。也就是说可以在这里写注释。</dd>
<dt>　　<a id="id111" name="id111" class="targanchor"><dfn>*</dfn></a>　　（半角星号）</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>只有在行首写的情况下</em>，定义标签。除了在链接时成为目标外，也会成为存档·读档时的标记（在别的地方说明）。</dd>
<dt>　　<a id="id112" name="id112" class="targanchor"><dfn>@</dfn></a>　　（半角@符号）</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>只有在行首写的情况下</em>，表示这是命令行。</dd>
<dt>　　<a id="id113" name="id113" class="targanchor"><dfn>制表符</dfn></a></dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　行首的制表符会被当作不存在（被忽略）。利用这个可以对情节文件进行缩进（为了使情节易于阅读而进行缩进）。只有制表符会被忽略，空格不会被忽略，需要注意。</dd></dl></div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
