<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from f_System.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>exceptionHandler - 捕捉されなかった异常のためのハンドラ関数</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="funcref.css" type="text/css" rel="stylesheet" title="类リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="主页" />
	<link href="f_System.html" title="System类" rel="Parent" />
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">System.exceptionHandler</a></span></h1><div class="para"><div>
<dl>
<dt>功能/意味</dt>
<dd>
捕捉されなかった异常のためのハンドラ関数</dd>
<dt>タイプ</dt>
<dd>
<a class="jump" href="f_System.html">System类</a>の属性 (読み書き可能)<br />
</dd>
<dt>说明</dt>
<dd>
		　捕捉されなかった异常 (どこにも捕捉されずに吉里吉里本体に渡された异常) を処理する関数を表します。<br />
		　null を指定すると、デフォルトの動作になります。<br />
		　デフォルトの動作とは、
		<ol>			<li>非同期事件の配信を停止する (<a class="jump" href="f_System_eventDisabled.html">System.eventDisabled</a> を 真 に设置)</li>			<li>ログを文件に出力开始する (<a class="jump" href="f_Debug_logAsError.html">Debug.logAsError</a> を呼ぶ)</li>			<li>错误を通知する对话框ボックスを显示し、脚本エディタでその箇所を示す</li>		</ol>		　です。<br />
		　ハンドラ関数は引数を一つ取り、それが异常对象になります。<br />
		　ハンドラ関数が指定されないか、あるいはハンドラ関数が null であるか、あるいはハンドラ関数が偽を返すと、デフォルトの動作が行われます。<br />
		　ハンドラ関数が真を返すと上記のデフォルトの動作は行われません。<br />
		　ハンドラ関数を执行中に非同期事件が発生する可能性を考慮してください。吉里吉里本体が非同期事件を処理できてしまうと、异常ハンドラを执行中に再び予期せぬ异常が発生する可能性があります。これを避けるため、通常、ハンドラ関数内でなにかを待つような処理をする場合 (吉里吉里が非同期事件を処理する機会がある場合 )、非同期事件の発生を停止させます。<br />
		<code class="bq"><span class="weak">例子:</span><br />System.exceptionHandler&nbsp;=&nbsp;function&nbsp;(e)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;どこにも捕捉されない异常がシステム側で捕捉された場合、この関数が<br />
&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;呼ばれる。e&nbsp;は异常对象。<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(e&nbsp;instanceof&nbsp;&quot;ConductorException&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;コンダクタの投げた异常の場合<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Debug.logAsError();&nbsp;//&nbsp;ログの文件への書き出し動作の开始など<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;event_disabled&nbsp;=&nbsp;System.eventDisabled;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.eventDisabled&nbsp;=&nbsp;true;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;错误の理由を显示させている間に事件が発生すると<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;やっかいなのでいったん事件発生を停止させる<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.inform(e.message);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.eventDisabled&nbsp;=&nbsp;event_disabled;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;事件を発生するかどうかを元の状態に<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;&nbsp;//&nbsp;true&nbsp;を返すと本体側で异常の処理は行わなくなる<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;else<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;&nbsp;//&nbsp;false&nbsp;を返すと通常の异常処理<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
};<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
	</dd>
<dt>参考</dt>
<dd>
<a class="jump" href="f_System_eventDisabled.html">System.eventDisabled</a><br />
<a class="jump" href="f_Debug_logAsError.html">Debug.logAsError</a><br />
</dd>
</dl>
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
