<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from TPC.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>画像フォーマットコンバータ</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关リファレンス用標準スタイル" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="主页" />
</head>
<body>
<h1><a id="id267" name="id267">画像フォーマットコンバータについて</a>
</h1><div class="para"><div>
　画像フォーマットコンバータ ( tools 文件夹にある krkrtpc.exe ) は、吉里吉里の画像の相互変換を行うためのツールです。<br />
　様々な画像の用意に使えます。<br />
<br />
　入力文件フォーマットとしては BMP, PNG, JPEG, PSD、出力文件フォーマットとしては BMP, PNG, TLG5, TLG6, JPEG のいずれかを选择できます。<br />
　吉里吉里が用いるようなメイン/マスク分離形式の透過画像を読み込んだり、出力する事もできます。ここで用いている「マスク」という用語はアルファチャネルと同義です。<br />
<br />
　基本的には画像フォーマットを変換するだけなので、これで出力した画像は、他のソフトやツールにも使えると思います。<br />
<br />
　なお、このツールに限ったことではありませんが、<em>备份はお忘れなく！</em><br />
</div></div>
<h1><a id="id268" name="id268">入力画像フォーマット</a>
</h1><div class="para"><div>
　入力文件フォーマットとしては、以下の形式を用いることができます。<br />
<br />
<dl>
<dt>BMP</dt>
<dd>　Windows 標準ビットマップ形式です。32 bit (bpp) 形式の BMP はアルファチャンネル付き BMP であると見なされます。<br />
　その他の形式の BMP は、不透明な画像(透過信息を持たない画像)であると見なされます (後述のメイン/マスク分離形式に用いた場合を除く)。</dd>
<dt>PNG</dt>
<dd>　Portable Network Graphic 形式です。透明部分のある(アルファチャネルや透過信息を持った) PNG も読み込むことができます。</dd>
<dt>PSD</dt>
<dd>　Adobe Photoshop 3 以降で用いられる形式です。ただし、このツールで読み込める PSD には大きな以下の制限があります。<br />
<br />
<ul><li>カラーモードが RGB のもの以外を読み込めない</li><li>16bit/チャンネルのものを読み込めない</li><li>無圧縮とRLE圧縮のみ対応 ( Photoshop3.0 形式の場合は RLE圧縮のみ対応 )</li></ul><br />
　この形式はメイン/マスク分離形式としては読み込むことができません。
　大体のデータは読み込めますが、読み込めないデータもあります。<br />
　カラーモードに RGB 以外(CMYKなど)を使用している場合は RGB に変換してください。16bit/チャンネルを使用している場合は 8bit/チャンネルに変換してください。<br />
　「通常」以外のブレンドモードの图层ーを含む場合は、このツールに入力する前に「显示部分の統合」を行っておけば大丈夫です。<br />
<br />
　PSD 文件の加载功能は、出力形式にて「ltAddAlpha形式で出力する」が选择されるか、しないかによって大きく変わります。<br />
<br />
　「ltAddAlpha形式で出力する」が选择されている場合は、「通常」「覆い焼き(リニア)」「焼き込み(リニア)」「乗算」「スクリーン」「オーバーレイ」「ハードライト」「ソフトライト」「覆い焼きカラー」「焼き込みカラー」「比較(明)」「比較(暗)」「差の絶対値」「除外」の图层ーが含まれた PSD 文件を読み込むことができます。また、「通常」のみで構成された画像であれば、複数枚の图层ーが重なっていても対応できます (他のモードでは、複数枚の图层ーが重なっていると対応できません)。<br />
<br />
　「ltAddAlpha形式で出力する」が选择されている場合は、「通常」の图层ーと「覆い焼き(リニア)」の图层ーにのみ対応できます。この場合は、图层ーが下から(奥から)順に、「任意の数の『通常』图层ー」「任意の数の『覆い焼き(リニア)』图层ー」の順になっていなければなりません。「任意の数」とは、0枚、つまり图层ーが全くないか、あるいは1枚以上の图层ーです。<br />
<dl>
<dt>「ltAddAlpha形式で出力する」が选择されている場合に加载可能な例子</dt>
<dd>    <ul>        <li>「通常」图层ー1枚の上に「覆い焼き(リニア)」图层ー1枚</li>        <li>「通常」图层ーがなくて、「覆い焼き(リニア)」图层ーが1枚だけ</li>        <li>「通常」图层ー1枚のみ</li>        <li>「通常」图层ー3枚の上に「覆い焼き(リニア)」图层ー2枚</li>    </ul></dd>
<dt>「ltAddAlpha形式で出力する」が选择されている場合に読み込めない例子</dt>
<dd>    <ul>        <li>「通常」图层ー1枚の上に「覆い焼き(リニア)」图层ー1枚、その上にさらに「通常」图层ー1枚<br />
(覆い焼きリニアの图层ーは通常图层ーの間に挟むことはできません)</li>        <li>「覆い焼き(リニア)」图层ー1枚の上に「通常」图层ー1枚、さらにその上に「覆い焼き(リニア)」图层ー1枚<br />
(通常の图层ーは覆い焼きリニアの图层ーの間に挟むことはできません)</li>        <li>「覆い焼き」图层ー1枚のみ<br />
(覆い焼きは覆い焼きでも、扱えるのは「覆い焼きリニア」の图层ーだけです)</li>    </ul></dd></dl>Photoshopの「通常」は吉里吉里のアルファ合成、「覆い焼き(リニア)」は吉里吉里の加算合成に相当します。ltAdditiveAlpha(加算アルファ合成)ではアルファ合成と加算合成の両方を同時に表現できるため、このような图层ー構成のPhotoshopデータを読み込むことができます。<br />
<br />

</dd>
<dt>JPEG</dt>
<dd>　フルカラーとグレイスケールの一般的な JPEG 形式を読み込めます。後述のメイン/マスク分離形式の入力として使うこともできます。</dd>
<dt>メイン/マスク分離形式</dt>
<dd>　メイン/マスク分離形式は、メイン(色信息)の画像とマスク(透過信息)の画像が別々の文件になっているものです。<br />
　マスク画像は、メイン画像の文件名の最後に _m のついた文件名になります ( たとえば test.jpg に対して test_m.jpg )。<br />
　メイン/マスク分離形式として有効な入力画像フォーマットは、それぞれ BMP, JPEG, PNG です。メインとマスクのフォーマットが異なっていてもかまいません。</dd></dl><br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　TLG5 や TLG6 形式は入力として用いることができません。ERI 形式は現時点では未対応です。</div><br />
</div></div>
<h1><a id="id269" name="id269">出力画像フォーマット</a>
</h1><div class="para"><div>
　出力画像フォーマットとしては以下の形式を用いることができます。<br />
<br />
<dl>
<dt>24bit/32bit BMP</dt>
<dd>　24bit BMP はアルファチャンネルを持たない BMP です。<br />
　32bit BMP はアルファチャネルを持った BMP で、一つの文件内に メインとマスクを持っている BMP です。</dd>
<dt>PNG</dt>
<dd>　フルカラーの PNG、あるいはアルファチャンネル付きの PNG です。<br />
</dd>
<dt>TLG5</dt>
<dd>　フルカラーの TLG5、あるいはアルファチャンネル付きの TLG5 です。<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　TLG5 形式は圧縮に結構時間がかかります。プログラムが止まってしまったように見えるかも知れません。</div><br />
</dd>
<dt>TLG6</dt>
<dd>　フルカラーの TLG6、あるいはアルファチャンネル付きの TLG6 です。<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　TLG6 形式は TLG5 形式と同じく、圧縮に結構時間がかかります。プログラムが止まってしまったように見えるかも知れません。</div><br />
TLG6画像についてはTLG5画像と同じく、タグ信息を書き出します。<br />
</dd>
<dt>メイン/マスク分離形式</dt>
<dd>　透明部分のある画像において、メイン/マスクを別々の文件に記録する方式です。それぞれ、BMP, JPEG, PNG を选择できます。<br />
　マスク画像は、メイン画像の文件名の最後に _m のついた文件名になります ( たとえば test.jpg に対して test_m.jpg )。<br />
　メインとマスクを別々の画像形式にすることができますが、BMP と BMP 、PNG と PNG の組み合わせはほとんど意味がないので、上記の 32bit BMP か アルファチャネル付き PNG を选择した方が良いでしょう。<br />
　どちらか、あるいは両方に JPEG を用いれば文件サイズは節約できますが、画質は悪くなります。<br />
　メイン/マスク分離形式に TLG5 や TLG6 形式を指定することはできません。</dd></dl></div></div>
<h1><a id="id270" name="id270">タグ信息</a>
</h1><div class="para"><div>
画像フォーマットコンバータは、TLG画像やPNG画像に「タグ信息」を書き出します。「タグ信息」は、画像どのように显示されるべきかなどを含む信息です。このタグ信息は<a target="main" class="jump" href="f_Layer_loadImages.html">Layer.loadImages</a>方法の戻り値として得ることができます。<br />
<br />
以下のタグ信息が書き出されます。<br />
<dl>
<dt><a id="id271" name="id271" class="targanchor"><dfn>mode</dfn></a> (TLGのみ)</dt>
<dd>画像の显示モードです。「不透明な画像」の場合はmode=opaqueで、出力形式がltAddAlphaならばmode=addalphaという信息を書き出します。<br />
「透明部分のある画像」で出力形式がltAddAlphaでない場合は、PSD 文件以外や、「通常」の图层ーのみを含む PSD 文件を読み込んだ場合は mode=alpha になります。PSD 文件で、「通常」以外の图层ーを読み込んだ場合は、それぞれのブレンドモードに対応する信息が書き出されます。<br />
KAGの場合、これはimageタグのmode属性にそのまま対応し、imageタグでmode属性を省略したときの初期値になります。つまり、KAGではmode属性を指定しなくても、自動的にその画像に適したmode属性が设置されると言うことになります。<br />
<br />
　吉里吉里は、TJSのグローバル对象に imageTagLayerType という字典数组を持ち、TLG画像の持つタグ信息の mode と图层のタイプがどう対応づけられるかを表しており、以下のように定義されています。<br />

<br />
<code class="bq">global.imageTagLayerType&nbsp;=&nbsp;%[<br />
&nbsp;&nbsp;&nbsp;&nbsp;opaque&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltOpaque&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;rect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltOpaque&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;alpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltAlpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;transparent&nbsp;:%[type:ltAlpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;addalpha&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltAddAlpha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltAdditive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;sub&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltSubtractive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;mul&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltMultiplicative&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;dodge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltDodge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;darken&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltDarken&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;lighten&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltLighten&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;screen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltScreen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psnormal&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsNormal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psadd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsAdditive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;pssub&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsSubtractive&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psmul&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsMultiplicative&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psscreen&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsScreen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psoverlay&nbsp;&nbsp;&nbsp;:%[type:ltPsOverlay&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;pshlight&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsHardLight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psslight&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsSoftLight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psdodge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsColorDodge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psdodge5&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsColorDodge5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psburn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsColorBurn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;pslighten&nbsp;&nbsp;&nbsp;:%[type:ltPsLighten&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psdarken&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsDarken&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psdiff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsDifference&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psdiff5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsDifference5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;psexcl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%[type:ltPsExclusion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;],<br />
]<br />
</code>
<br />

　それぞれの图层のタイプについては <a target="main" class="jump" href="GraphicSystem.html">グラフィックシステム</a> を参考してください。</dd>
<dt><a id="id272" name="id272" class="targanchor"><dfn>offs_x</dfn></a> <a id="id273" name="id273" class="targanchor"><dfn>offs_y</dfn></a> <a id="id274" name="id274" class="targanchor"><dfn>offs_unit</dfn></a> (TLG, PNG)</dt>
<dd>　これらは、変換元がPNGで、そのPNGがその画像の左上隅からのオフセット(oFFsチャンク)の信息を含んでいる場合のみに出力されます。<br />
　offs_x は横位置の左端からの距離、offs_y は縦位置の上端からの距離です。offs_unit は <a id="id275" name="id275" class="targanchor"><dfn>pixel</dfn></a> か <a id="id276" name="id276" class="targanchor"><dfn>micrometer</dfn></a> のどちらかになり、距離の単位を示します。<br />
</dd>
<dt><a id="id277" name="id277" class="targanchor"><dfn>vpag_w</dfn></a> <a id="id278" name="id278" class="targanchor"><dfn>vpag_h</dfn></a> <a id="id279" name="id279" class="targanchor"><dfn>vpag_unit</dfn></a> (TLG, PNG)</dt>
<dd>　これらは、変換元がPNGで、そのPNGが Virtual PAGe、つまり画像全体のサイズ(vpAgチャンク)の信息を含んでいる場合のみに出力されます。<br />
　この信息を PNG に出力するソフトウェアとして <a target="_top" class="jump" href="http://www.imagemagick.org/">ImageMagick</a>ユーティリティがありますが、この <a id="id280" name="id280" class="targanchor"><dfn>ImageMagick</dfn></a> で trim (トリム)を行った際に、トリム前の画像サイズとしてこの信息が出力されます。<br />
　vpag_w は画像全体の横のサイズ、vpag_h は画像全体の縦のサイズ、offs_unit は <a id="id281" name="id281" class="targanchor"><dfn>pixel</dfn></a> か <a id="id282" name="id282" class="targanchor"><dfn>micrometer</dfn></a> のどちらかになり、サイズの単位を示します。<br />
</dd>
<dt><a id="id283" name="id283" class="targanchor"><dfn>reso_x</dfn></a> <a id="id284" name="id284" class="targanchor"><dfn>reso_y</dfn></a> <a id="id285" name="id285" class="targanchor"><dfn>reso_unit</dfn></a> (TLG, PNG)</dt>
<dd>　これらは、変換元がPNGで、そのPNGがその画像の解像度(pHYsチャンク)の信息を含んでいる場合のみに出力されます。<br />
　reso_x は横方向の解像度、reso_y は縦方向の解像度です。reso_unit は <a id="id286" name="id286" class="targanchor"><dfn>meter</dfn></a> になり、解像度の単位を示します。<br />
</dd></dl></div></div>
<h1><a id="id287" name="id287">画像フォーマットコンバータの使い方</a>
</h1><div class="para"><div>
<br />
　変換は、変換したい文件を画像フォーマットコンバータの窗口の上にドロップすることで行うことができます。複数の文件をドロップする事もできます。<br />
<br />
　不透明な画像、透明部分を持った画像にそれぞれ別の形式を指定することができます。<br />
<br />
　ここで言う「不透明な画像」とは、画像全域が完全に不透明な画像(たとえば、KAGで使うような背景画像)を言います。「透明部分を持った画像」とは、透明になる部分がある画像(たとえばKAGで使うような前景画像)を言います。<br />
　なお、画像形式として等価信息を持っている形式でも、結果的に画像のすべての像素が完全不透明であれば、「不透明な画像」として扱われます。<br />
<br />
　変換结束後、各文件の変換が成功したか、错误になったかを确认できるログが显示されますので确认してください。<br />
<br />
　以下は、画面の说明です。<br />
<br />
<img width="552" height="422" alt="TPC.png" src="TPC.png" /><br />
<br />
　执行すると、上の画面が显示されます。<br />
<br />
<dl>
<dt>「オプションを显示」</dt>
<dd>　チェックされている状態では、下の设置部分が显示されます。チェックをはずすと、窗口は上部部分だけとなり、横に細長くなります。オプション设置が必要ない場合に窗口をコンパクトにすることができます。</dd>
<dt>「不透明な画像 - 24bit BMP」</dt>
<dd>　不透明な画像の出力形式として 24bit BMP を选择します。</dd>
<dt>「不透明な画像 - PNG」</dt>
<dd>　不透明な画像の出力形式として PNG を选择します。</dd>
<dt>「不透明な画像 - TLG5」</dt>
<dd>　不透明な画像の出力形式として TLG5 を选择します。</dd>
<dt>「不透明な画像 - TLG6」</dt>
<dd>　不透明な画像の出力形式として TLG6 を选择します。</dd>
<dt>「不透明な画像 - JPEG」</dt>
<dd>　不透明な画像の出力形式として JPEG を选择します。</dd>
<dt>「不透明な画像 - JPEG オプション...」</dt>
<dd>　不透明な画像の出力形式として JPEG を选择した場合の、JPEG の圧縮クオリティを选择します。</dd>

<dt>「透明部分のある画像 - 32bit BMP (メイン+マスク)」</dt>
<dd>　透過信息を持った画像の出力形式として 32bit BMP を选择します。</dd>
<dt>「透明部分のある画像 - αチャネル付き PNG (メイン+マスク)」</dt>
<dd>　透過信息を持った画像の出力形式として アルファチャネル付き PNG を选择します。</dd>
<dt>「透明部分のある画像 - αチャネル付き TLG5 (メイン+マスク)」</dt>
<dd>　透過信息を持った画像の出力形式として アルファチャネル付き TLG5 を选择します。</dd>
<dt>「透明部分のある画像 - αチャネル付き TLG6 (メイン+マスク)」</dt>
<dd>　透過信息を持った画像の出力形式として アルファチャネル付き TLG6 を选择します。</dd>
<dt>「透明部分のある画像 - メイン/マスク分離形式」</dt>
<dd>　透過信息を持った画像の出力形式としてメイン/マスク分離形式を指定します。メイン/マスクに何を用いるかを下で选择します。また、JPEG の場合、「JPEG オプション」按钮をクリックすることによって、JPEG の圧縮クオリティを选择することができます。</dd>
<dt>「透明部分のある画像 - 入力画像をltAddAlpha形式であるとみなす」</dt>
<dd>　このオプションがチェックされていると、入力画像をltAddAlpha形式、つまり吉里吉里の<a target="main" class="jump" href="f_Layer_type.html">Layer.type</a>属性でltAddAlphaを指定して显示するに適した、加算アルファ合成形式であると見なします。このオプションに影響される入力画像形式はBMP、PNG、メイン/マスク分離形式で、PSD形式は影響されません。<br />
　このオプションがチェックされていないと、入力画像はltAlpha形式であると見なされます。ほとんどのグラフィックソフトの出力形式やPNGの仕様はltAlpha形式である為、通常はこのオプションはチェックしないでください。<br />
　このオプションのチェックされていない状態で、かつ後述の「ltAddAlpha形式で出力する」がチェックされていると、画像フォーマットコンバータはltAlpha形式からltAddAlpha形式への変換を行います。<br />
　このオプションをチェックすると、「ltAddAlpha形式で出力する」のオプションは自動的にチェックされます。また、「完全透明部分の色信息」のオプションは使用不可になります(アルファ信息も色信息も画像フォーマットコンバータでは加工されなくなります)。<br />
</dd>

<dt>「透明部分のある画像 - ltAddAlpha形式で出力する」</dt>
<dd>　このオプションがチェックされていると、出力画像をltAddAlpha形式で出力します。<br />
　このオプションがチェックされていないと、出力画像の形式はltAlpha形式、あるいは PSD 文件からの入力の場合はその文件に含まれている图层ーのブレンドモードに対応した形式になります。<br />
　様々なグラフィックソフトや、PNGの仕様ではltAlpha形式の画像のみを受け付けますので、出力画像を吉里吉里に使用する訳ではない場合は、通常はチェックしないでください。<br />
　このオプションがチェックされていると、「完全透明部分の色信息」のオプションは使用不可になります(アルファ信息も色信息も画像フォーマットコンバータでは加工されなくなります)。<br />
</dd>

<dt>「透明部分のある画像 - 完全透明部分の色信息」</dt>
<dd>　画像の完全に透明な部分の処理を指定します。<br />
　通常、ltAlpha 形式の画像の場合、完全に透明な部分でも色の信息を持っています。その部分は完全に透明なので显示するときは単に無視されるのですが、画像の加工 ( JPEG等による圧縮も含む ) を行うときは無視されません。<br />
　この完全に透明な部分の処理の方式を指定します。<br />
<br />
<dl>
<dt>除去</dt>
<dd>　除去を指定すると、完全に透明な部分の色信息は除去されます ( 正確には真っ黒で塗りつぶされる )。<br />
　通常はこの指定でOKです。</dd>
<dt>そのまま</dt>
<dd>　処理を行いません。元の画像そのままになります。<br />
　完全透明部分にゴミがある場合、そのゴミまで圧縮することになるので圧縮率が悪くなります。</dd>
<dt>合成</dt>
<dd>　完全透明部分の色を、その周りにある不透明な部分の色から推測し、合成します。<br />
　合成の強度を 1, 2, 3, 5, 8 pixel から選べます。ここで像素単位で指定された距離内にある不透明な部分の像素の色から、完全透明部分の色を合成します。値が大きいほど処理に時間がかかります。ここで指定した距離外にある完全透明な部分の色は除去されます。<br />
　たとえば JPEG でメイン画像を圧縮する場合、JPEG の特性上、急激な色の変化がある場所ではモスキートノイズが発生します。これは前景画像の場合、もし「合成」処理をおこなわず、完全不透明部分と不透明部分の境界で急激な色の変化がある場合、その部分に発生しやすくなります。「合成」処理を行うと、完全透明部分の色を不透明部分の色から合成するため、色の変化の差を抑え、モスキートノイズの発生を抑えることができます。また、一般的な JPEG では 色の信息が隣の像素と混ざりますが、これも「合成」処理を行うことで、(合成しなかった場合の) 意図しない完全透明部分の色と不透明部分の色が混ざる事を抑えることができます。<br />
　通常は「除去」を選んでください。完全に透明な部分には色の信息は必要ありません。また除去を行えば画像の圧縮後の文件サイズも小さくすることができます。</dd></dl>　「ltAddAlpha形式で出力する」がチェックされている場合はこのオプションは使用不可になります。ltAddAlpha形式での「完全透明」は、不透明度0、色は真っ黒以外にあり得ないからです。<br />
</dd>
<dt>「出力文件夹 - 入力文件と同じ文件夹」</dt>
<dd>　出力する文件を、入力文件とおなじ文件夹に出力するようにします。</dd>
<dt>「出力文件夹 - 指定文件夹」</dt>
<dd>　出力文件を、下の入力欄に指定した文件夹に出力します。<br />
　「参考 ...」按钮をクリックすると、出力文件夹を选择する对话框ボックスを显示することができます。<br />
　入力欄に相対文件夹を指定した場合は、入力文件のある文件夹からの相対位置で指定することができます。</dd>
<dt>「出力文件夹 - 同名の文件があった場合に上書きする」</dt>
<dd>　この复选框をチェックすると、同名の文件があった場合、上書きします。</dd>
<dt>「错误が発生しなかった場合はログを显示しない」</dt>
<dd>　この复选框をチェックすると、変換が終わって、変換中に错误が発生しなかった場合は、ログを确认するための窗口を显示しません。</dd>
<dt>「閉じる」</dt>
<dd>　このツールを结束します。</dd></dl></div></div>

	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
